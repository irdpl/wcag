<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
   <head>
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <title>ARIA21: Using aria-invalid to Indicate An Error Field | WAI | W3C</title>
      <link rel="stylesheet" href="https://w3.org/WAI/assets/css/style.css" />
      <link rel="stylesheet" href="../base.css" />
   </head>
   <body class="wcag-docs" dir="ltr"><a href="#main" class="button button--skip-link">Idź do treści</a><div class="default-grid with-gap leftcol">
         <aside class="box nav-hack sidebar standalone-resource__sidebar" aria-labelledby="page-contents">
            <nav>
               <header class="box-h" id="page-contents">Page Contents</header>
               <div class="box-i">
                  <nav class="navtoc">
                     <ul id="navbar">
                        <li><a href="#applicability">Applicability</a></li>
                        <li><a href="#description">Description</a></li>
                        <li><a href="#examples">Examples</a></li>
                        <li><a href="#resources">Related Resources</a></li>
                        <li><a href="#related">Related Techniques</a></li>
                        <li><a href="#tests">Tests</a></li>
                     </ul>
                  </nav>
               </div>
            </nav>
         </aside>
         <main id="main" class="standalone-resource__main">
            <h1><span>Technique ARIA21:</span>Using <code class="language-html">aria-invalid</code> to Indicate An Error Field
            </h1>
            <aside class="box">
               <header class="box-h  box-h-icon">
                  					About this Technique
                  				
               </header>
               <div class="box-i">
                  <p>This technique is not referenced from any Understanding document.</p>
               </div>
            </aside>
            <div class="excol-all"></div>
            <section id="applicability">
               <h2>Applicability</h2>
               <p>HTML with <a href="https://www.w3.org/TR/wai-aria/">Accessible Rich Internet Applications</a>.
               </p>
               <p>This technique is not referenced from any Understanding document.</p>
            </section>
            <section id="description">
               <h2>Description</h2>
               <p>This technique demonstrates how <code class="language-html">aria-invalid</code> may be employed to specifically identify fields that have failed validation. Its
                  use is most suitable when:
               </p>
               <ul>
                  
                  <li>The error description does not programmatically identify the failed fields</li>
                  
                  <li>The failed fields are identified in a manner that is not available to some users -
                     for example by using an error-icon rendered visually by some technique that does not
                     rely on color such as a visual cue like a border.
                  </li>
                  
               </ul>
               <div class="note">
                  <p>One of the above two situations may be true for a field which has programmatically
                     associated label and / or instructions that conveys data format, a data range, or
                     the <code class="language-html">required</code> property.
                  </p>
               </div>
               <p>While it is always preferable to programmatically associate specific error description
                  with the failed field, the page's design or the framework employed may sometimes constrain
                  the author's ability to do so. In these cases, authors may programmatically set <code class="language-html">aria-invalid</code> to <code class="language-html">"true"</code> on the fields that have failed validation. This is interpretable mainly by assistive
                  technologies (like screen readers / screen magnifiers) employed by users who are vision
                  impaired. When a field has <code class="language-html">aria-invalid</code> set to “true”, VoiceOver in Safari announces <samp>invalid</samp> data when the field gets focus; JAWS and NVDA notify the error as an <samp>invalid entry</samp>.
               </p>
               <p>This ARIA attribute has to be set / turned on programmatically. It should not be set
                  to “true” before input validation is performed or the form is submitted. Setting <code class="language-html">aria-invalid</code> to “false” is the same as not placing the attribute for the form control at all.
                  Quite understandably, nothing is conveyed by assistive technology to users in this
                  case.
               </p>
               <p>When visible text is used to programmatically identify a failed field and / or convey
                  how the error can be corrected, setting <code class="language-html">aria-invalid</code> to "true" is not required from a strict compliance standpoint but may still provide
                  helpful information for users.
               </p>
            </section>
            <section id="examples">
               <h2>Examples</h2>
               <section class="example" id="example-1-using-aria-invalid-on-required-fields">
                  <h3>Example 1: Using aria-invalid on required fields</h3>
                  <p>The <code class="language-html">aria-invalid</code> attribute is used on required fields that have no input. A message above the form
                     conveys that form submission has failed due to this.
                  </p>
                  <p>A portion of the jQuery code and the HTML form markup follow:</p><pre xml:space="preserve"><code class="language-html">&lt;script&gt;
...
...
   if ($('#first').val() === '') {
      $('#first').attr("aria-invalid", "true");
$("label[for='first']").addClass('failed');
   }
   if ($('#last').val() === '') {
      $('#last').attr("aria-invalid", "true");
$("label[for='last']").addClass('failed');
   } 
   if ($('#email').val() === '') {
      $('#email').attr("aria-invalid", "true");
$("label[for='email']").addClass('failed');
   } 
...
...
&lt;/script&gt;

&lt;style&gt;
  label.failed {
    border: red thin solid;
  }
&lt;/style&gt;

&lt;form name="signup" id="signup"&gt;
  &lt;div&gt;
    &lt;label for="first"&gt;First Name (required)&lt;/label&gt;
    &lt;input type="text" name="first" id="first"&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label for="last"&gt;Last Name (required)&lt;/label&gt;
    &lt;input type="text" name="last" id="last"&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label for="email"&gt;Email (required)&lt;/label&gt;
    &lt;input type="text" name="email" id="email"&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;input type="submit" name="button" id="button" value="Submit"&gt;
  &lt;/div&gt;
&lt;/form&gt;</code></pre><p class="working-example"><a href="../../working-examples/aria-invalid-required-fields/">Working example: Using aria-invalid on required fields</a>.
                  </p>
               </section>
               <section class="example" id="example-2-identifying-errors-in-data-format">
                  <h3>Example 2: Identifying errors in data format</h3>
                  <p><code class="language-html">Aria-invalid</code> and <code class="language-html">aria-describedby</code> are used together to indicate an error when the personal identification number (PIN),
                     email address, or start date are not in the expected format. The error message is
                     associated with the field using <code class="language-html">aria-describedby</code>, and <code class="language-html">aria-invalid</code> makes it easier to programmatically find fields with errors.
                  </p>
                  <p>Below is the rendered HTML code for the email address field in Example 1: When an
                     invalid email address is entered by the user such as "samexample.com" (instead of
                     sam@example.com), the HTML code is:
                  </p><pre xml:space="preserve"><code class="language-html">&lt;div class="control"&gt;
  &lt;div&gt;
    &lt;label for="email"&gt;Email address: [*]&lt;/label&gt; 
    &lt;input type="text" name="email" id="email" class="error"
     aria-invalid="true" aria-describedBy="err_1"&gt;
  &lt;/div&gt;
  &lt;span class="errtext" id="err_1"&gt;Error: Incorrect data&lt;/span&gt;
&lt;/div&gt;</code></pre><p>And when no data is entered in the email field, the HTML code is:</p><pre xml:space="preserve"><code class="language-html">&lt;div class="control"&gt;
  &lt;div&gt;&lt;label for="email"&gt;Email address: [*]&lt;/label&gt; 
    &lt;input type="text" name="email" id="email" class="error"
     aria-invalid="true" aria-describedBy="err_2"&gt;
  &lt;/div&gt;
  &lt;span class="errtext" id="err_2"&gt;Error: Input data missing&lt;/span&gt;
&lt;/div&gt;</code></pre><p>jQuery code: jQuery is used to add aria-invalid or aria-describedby attributes as
                     well as the class attribute and append the error text. This is the code that inserts
                     aria-invalid and class="error" but does not associate the error text "incorrect data"
                     with the control programmatically:
                  </p><pre xml:space="preserve"><code class="language-javascript">$(errFld).attr("aria-invalid", "true").attr("class", "error");
// Suffix error text: 
$(errFld).parent().append('&lt;span class="errtext"&gt;Error: Incorrect data&lt;/span&gt;');</code></pre><p>CSS Code:</p><pre xml:space="preserve"><code class="language-css">input.error {
  border: red thin solid;
}

span.errtext {
  background-color: #EEEEFF;
  background-image:url('images/iconError.gif');
  background-position:right;	
  background-repeat:no-repeat;
  border: red thin solid;
  margin-bottom: 1em;
  padding: .25em 1.4em .25em .25em;
}</code></pre><p class="working-example"><a href="../../working-examples/aria-invalid-data-format/">Working example: Identifying errors in data format</a>.
                  </p>
               </section>
            </section>
            <section id="resources">
               <h3 style="margin-bottom: 0;">Other sources</h3>
               <p style="margin-bottom: 1.5em;"><em><small>No endorsement implied.</small></em></p>
               <ul>
                  
                  <li>
                     <a href="https://www.w3.org/TR/wai-aria-1.1/#states_and_properties">Supported States and Properties: WAI-ARIA 1.1</a>
                     
                  </li>
                  
                  <li>
                     	<a href="http://www.deque.com/blog/aria-invalid-error-indication/">Using Aria-invalid for Error Indication</a>
                     
                  </li>
                  
               </ul>
            </section>
            <section id="related">
               <h2>Related Techniques</h2>
               <ul>
                  
                  <li><a href="../general/G83">G83</a></li>
                  
                  <li><a href="../general/G85">G85</a></li>
                  
                  <li><a href="../general/G139">G139</a></li>
                  
                  <li><a href="../client-side-script/SCR32">SCR32</a></li>
                  
                  <li><a href="../aria/ARIA18">ARIA18</a></li>
                  
                  <li><a href="../aria/ARIA19">ARIA19</a></li>
                  
               </ul>
            </section>
            <section id="tests">
               <h2>Tests</h2>
               <section class="procedure" id="procedure">
                  <h3>Procedure</h3>
                  
                  <p>For each form control that relies on <code class="language-html">aria-invalid</code> to convey a validation failure:
                  </p>
                  
                  <ol>
                     
                     <li>Check that <code class="language-html">aria-invalid</code> is not set to true when a validation failure does not exist.
                     </li>
                     
                     <li>Check that <code class="language-html">aria-invalid</code> is set to true when a validation failure does exist.
                     </li>
                     
                     <li>Check that the programmatically associated labels / programmatically associated instructional
                        text for the field provide enough information to understand the error.
                     </li>
                     
                  </ol>
                  
               </section>
               <section class="results" id="expected-results">
                  <h3>Expected Results</h3>
                  
                  <ul>
                     
                     <li>Checks #1-3 are true.</li>
                     
                  </ul>
                  
               </section>
            </section><a class="button button-backtotop" href="#top"><span>
                  <svg focusable="false" aria-hidden="true" class="icon-arrow-up " viewBox="0 0 26 28">
                     <path d="M25.172 15.172c0 0.531-0.219 1.031-0.578 1.406l-1.172 1.172c-0.375 0.375-0.891 0.594-1.422 0.594s-1.047-0.219-1.406-0.594l-4.594-4.578v11c0 1.125-0.938 1.828-2 1.828h-2c-1.062 0-2-0.703-2-1.828v-11l-4.594 4.578c-0.359 0.375-0.875 0.594-1.406 0.594s-1.047-0.219-1.406-0.594l-1.172-1.172c-0.375-0.375-0.594-0.875-0.594-1.406s0.219-1.047 0.594-1.422l10.172-10.172c0.359-0.375 0.875-0.578 1.406-0.578s1.047 0.203 1.422 0.578l10.172 10.172c0.359 0.375 0.578 0.891 0.578 1.422z"></path>
                  </svg> Początek strony
                  			</span></a></main>
         <aside class="box box-icon box-space-above" id="helpimprove" style="grid-column: 2 / 8; grid-row: 3">
            <header class="box-h  box-h-icon box-h-space-above box-h-icon">
               <svg focusable="false" aria-hidden="true" class="icon-comments" viewBox="0 0 28 28">
                  <path d="M22 12c0 4.422-4.922 8-11 8-0.953 0-1.875-0.094-2.75-0.25-1.297 0.922-2.766 1.594-4.344 2-0.422 0.109-0.875 0.187-1.344 0.25h-0.047c-0.234 0-0.453-0.187-0.5-0.453v0c-0.063-0.297 0.141-0.484 0.313-0.688 0.609-0.688 1.297-1.297 1.828-2.594-2.531-1.469-4.156-3.734-4.156-6.266 0-4.422 4.922-8 11-8s11 3.578 11 8zM28 16c0 2.547-1.625 4.797-4.156 6.266 0.531 1.297 1.219 1.906 1.828 2.594 0.172 0.203 0.375 0.391 0.313 0.688v0c-0.063 0.281-0.297 0.484-0.547 0.453-0.469-0.063-0.922-0.141-1.344-0.25-1.578-0.406-3.047-1.078-4.344-2-0.875 0.156-1.797 0.25-2.75 0.25-2.828 0-5.422-0.781-7.375-2.063 0.453 0.031 0.922 0.063 1.375 0.063 3.359 0 6.531-0.969 8.953-2.719 2.609-1.906 4.047-4.484 4.047-7.281 0-0.812-0.125-1.609-0.359-2.375 2.641 1.453 4.359 3.766 4.359 6.375z"></path>
               </svg>
               <h2> Pomóż ulepszyć tę stronę</h2>
            </header>
            <div class="box-i">
               <p>Podziel się pomysłami, sugestiami lub uwagami za pośrednictwem poczty elektronicznej
                  lub za pośrednictwem GitHub
               </p>
               <div class="button-group"><a href="mailto:kontakt@irdpl.pl?subject=%5BObja%C5%9Bnienia%20i%20Techniki%20Informacja%20zwrotna%5D" class="button"><span>E-mail</span></a><a href="https://github.com/irdpl/wcag/issues/" class="button"><span>Rozwidlenie i edycja na Github</span></a><a href="https://github.com/irdpl/wcag/issues/new" class="button"><span>Zgłoszenie problemu na Github</span></a></div>
            </div>
         </aside>
      </div>
      <footer id="wai-site-footer" class="page-footer default-grid" aria-label="Page">
         <div class="inner" style="grid-column: 2 / 8">
            <p class="note">Ta strona jest nieautoryzowaną polską wersją dokumentu W3C. Dokument może zawierać
               błędne lub nieścisłe tłumaczenia oryginału. Łącze do oryginalnego dokumentu W3C znajduje
               się <a href="#brief">w sekcji W skrócie</a>.
            </p>
            <p><strong>Data:</strong> Aktualizacja 19 February 2024.
            </p>
            <p><strong>Opracowane przez</strong> <a href="https://www.w3.org/groups/wg/ag/participants">uczestników Accessibility Guidelines Working Group (AG WG)</a> (współrzewodniczący: Alastair Campbell, Charles Adams, Rachael Bradley Montgomery.
               Kontakt z obsadą W3C: Michael Cooper).
            </p>
            <p>Treść została opracowana w ramach <a href="https://www.w3.org/WAI/about/projects/#us">projektów WAI-Core</a> finansowanych przez Fundusze federalne USA. Interfejs użytkownika został zaprojektowany
               przez Education and Outreach Working Group (<a href="https://www.w3.org/groups/wg/eowg/participants">EOWG</a>) z udziałem z udziałem Shadi Abou-Zahra, Steve Lee i Shawn Lawton Henry w ramach
               projektu <a href="https://www.w3.org/WAI/about/projects/wai-guide/">WAI-Guide</a>, współfinansowanego przez Komisję Europejską.
            </p>
            <p>Tłumaczenie na język polski zostało wykonane przez: xxx xxx xxx xxx xxx.</p>
            <p>Wydanie polskie zostało przygotowane przez zespół: xxx xxx xxx xxx xxx.</p>
         </div>
      </footer>
      <footer class="site-footer grid-4q" aria-label="Site">
         <div class="q1-start q3-end about">
            <div>
               <p><a class="largelink" href="https://www.irdpl.pl/" dir="auto" translate="no" lang="pl">© Polska Izba Rzemiosła Dostępnościowego</a></p>
               <p>
                  Platforma swobodnej współpracy osób i firm, które zajmują się dostępnością i chcą
                  rozwijać w Polsce rynek rzetelnych usług dostępnościowych
                  
               </p>
            </div>
            <div dir="auto" translate="no" lang="pl">
               <p>
                  					Prawa autorskie do wszystkich materiałów w tej witrynie należą do W3C.<br /> Copyright © 2024 World Wide Web Consortium (<a href="https://www.w3.org/">W3C</a><sup>®</sup>). Zobacz <a href="https://www.w3.org/WAI/about/using-wai-material/" lang="en" hreflang="en">Permission to Use WAI Material</a>.
               </p>
            </div>
         </div>
         <div dir="auto" translate="no" class="q4-start q4-end" lang="en">
            <ul style="margin-bottom:0">
               <li><a href="https://www.irdpl.pl">Nowości</a></li>
               <li><a href="https://biblio.irdpl.pl">Biblioteka Lidera Dostępności</a></li>
               <li><a href="https://www.irdpl.pl/HTML_CodeSniffer">HTML_CodeSniffer</a></li>
            </ul>
         </div>
      </footer>
      <link rel="stylesheet" href="../a11y-light.css" /><script src="../highlight.min.js"></script><script>
      hljs.configure({
        cssSelector: 'pre'
      });
      hljs.highlightAll();
			var translationStrings = {}; /* fix WAI JS */
		</script><script src="https://www.w3.org/WAI/assets/scripts/main.js"></script></body>
</html>