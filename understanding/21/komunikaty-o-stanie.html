<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pl" xml:lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Objaśnienie kryterium sukcesu Komunikaty o stanie</title>
  <link rel="stylesheet" type="text/css" href="../../css/sources.css" class="remove" />
</head>
<body>
  <h1>Objaśnienie kryterium sukcesu Komunikaty o stanie</h1>
  <section id="brief">
    <h2>W skrócie</h2>
    <dl>
      <dt>Cel</dt>
      <dd>Informowanie użytkowników o ważnych zmianach w treści</dd>
      <dt>Co zrobić</dt>
      <dd>Umożliwiaj technologii wspomagającej powiadamianie użytkowników o zmianach stanu, które nie wymagają fokusu.</dd>
      <dt>Dlaczego to jest ważne</dt>
      <dd>Osoby, które nie widzą powiadomień, muszą być o nich informowane.</dd>
    </dl>


  </section>
  <section id="intent">
    <h2>Intencja</h2>
    <p>
      Intencją tego kryterium sukcesu jest informowanie użytkowników o ważnych zmianach w treści, które nie są w centrum uwagi, i zrobienie tego w sposób, który nie przerywa niepotrzebnie ich pracy.
    </p>
    <p>
      Beneficjentami są niewidomi i słabowidzący użytkownicy technologii wspomagających z funkcją czytnika ekranu. Dodatkową korzyścią jest to, że technologie wspomagające dla użytkowników z zaburzeniami poznawczymi mogą osiągnąć alternatywny sposób wskazywania (lub nawet opóźniania lub tłumienia) komunikatów o stanie, zgodnie z preferencjami użytkownika.
    </p>
    <p>
      Zakres tego kryterium sukcesu jest specyficzny dla zmian w treści, które obejmują komunikaty o stanie. <a class="glossary">Komunikat o stanie</a> jest pojęciem zdefiniowanym w WCAG. Istnieją dwa główne kryteria, które określają, czy coś spełnia definicję komunikatu o stanie:
    </p>
    <ul>
      <li> Komunikat <q>dostarcza użytkownikowi informacji o powodzeniu lub wynikach działania, o stanie oczekiwania aplikacji, o postępie procesu lub o istnieniu błędów</q>;</li>
      <li> wiadomość nie jest dostarczana poprzez zmianę kontekstu.</li>
    </ul>
    <p>
      Do stron można dodawać informacje, które nie spełniają definicji komunikatu o stanie. Na przykład lista wyników wyszukiwania nie jest uważana za aktualizację stanu, a zatem nie jest objęta tym kryterium sukcesu. Jednak krótkie komunikaty tekstowe wyświetlane <em>na temat</em> zakończenia lub statusu wyszukiwania, takie jak „Wyszukiwanie...”, „Zwrócono 18 wyników” lub „Nie zwrócono żadnych wyników” byłyby aktualizacjami stanu, gdyby nie otrzymywały fokusu. Przykłady komunikatów o stanie podano poniżej w sekcji zatytułowanej <a href="#status-examples">Przykłady komunikatów o stanie</a>.
    </p>
    <p>
      To kryterium sukcesu odnosi się w szczególności do scenariuszy, w których do strony jest dodawana nowa treść bez zmiany kontekstu użytkownika. <a class="glossary">Zmiany kontekstu</a> z natury przerywają użytkownikowi, skupiając jego uwagę. Są one już wyświetlane przez technologie wspomagające, a więc już osiągnęły cel, jakim jest ostrzeganie użytkownika o nowych treściach. W&nbsp;związku z tym komunikaty, które wiążą się ze zmianami kontekstu, nie muszą być brane pod uwagę i nie wchodzą w zakres tego kryterium sukcesu. Przykłady scenariuszy, które dodają nową treść poprzez zmianę kontekstu, podano poniżej w sekcji zatytułowanej <a href="#excepted-examples">Przykłady zmian, które nie są komunikatami o stanie</a>.
    </p>
    <section id="benefits">
      <h2>Korzyści</h2>
      <ul>
        <li>
          Gdy odpowiednie role lub właściwości są przypisane do komunikatów o stanie, nowa treść jest wypowiadana przez czytniki ekranu w taki sposób, aby pomóc użytkownikom niewidomym i słabowidzącym. Większość widzących użytkowników może obserwować tekst dodany peryferyjnie do rzutni. Taka treść dostarcza dodatkowych informacji bez wpływu na aktualny punkt przeglądania użytkownika. Zdolność technologii wspomagającej do ogłaszania takich nowych ważnych treści tekstowych pozwala większej liczbie użytkowników korzystać ze świadomości informacji w równoważny sposób.
        </li>
        <li>
          Przypisanie odpowiednich ról lub właściwości do komunikatów o stanie zapewnia możliwe przyszłe zastosowania i możliwości personalizacji, takie jak potencjał do wykorzystania przez technologie wspomagające stworzone dla użytkowników z niektórymi niepełnosprawnościami poznawczymi. Tam, gdzie autorzy stron decydują się na zaprojektowanie dodatków do ekranu, które <em>nie</em> zmieniają kontekstu użytkownika (tj. przejmują fokus), informacje są prawdopodobnie mniej ważne niż te prezentowane za pomocą modalnego okna dialogowego, które musi zostać potwierdzone przez użytkownika. W związku z tym, w zależności od preferencji użytkownika, technologia wspomagająca może zdecydować się na opóźnienie, stłumienie lub przekształcenie takich komunikatów, aby użytkownik nie był niepotrzebnie przerywany; lub odwrotnie, technologia wspomagająca może wyróżnić takie komunikaty, gdy użytkownik uzna to za optymalne.
        </li>
      </ul>
    </section>
  </section>
  <section id="examples">
    <h2>Przykłady</h2>
    <section class="example" id="status-examples">
      <h3>Przykłady komunikatów o stanie</h3>
      <ul>
        <li>
          Po naciśnięciu przez użytkownika przycisku Szukaj, treść strony jest aktualizowana w&nbsp;celu uwzględnienia wyników wyszukiwania, które są wyświetlane w sekcji poniżej przycisku wyszukiwania. Zmiana treści obejmuje również komunikat „Zwrócono 5 wyników" w górnej części tej nowej treści. Tekst ten ma odpowiednią rolę dla komunikatu o stanie. Czytnik ekranu informuje: „Zwrócono pięć wyników".
        </li>
        <li>
          Po naciśnięciu przez użytkownika przycisku Dodaj do koszyka sekcja treści w pobliżu ikony koszyka dodaje tekst „5 pozycji". Czytnik ekranu informuje „Pięć pozycji" lub „Koszyk, pięć pozycji".
        </li>
        <li>
          Gdy użytkownik wprowadzi nieprawidłowy tekst w polu o nazwie Kod pocztowy, nad polem pojawi się komunikat „Nieprawidłowy wpis". Czytnik ekranu wyświetli komunikat „Nieprawidłowy wpis" lub „Kod pocztowy, nieprawidłowy wpis”.
        </li>
        <li>
          Gdy użytkownik aktywuje proces, na ekranie pojawia się ikona symbolizująca „zajęty”. Czytnik ekranu ogłasza „aplikacja zajęta".
        </li>
        <li>
          Aplikacja wyświetla pasek postępu, aby wskazać stan aktualizacji. Elementowi przypisywana jest odpowiednia rola. Czytnik ekranu zapewnia przerywane powiadomienia o postępach.
        </li>
        <li>
          Po przesłaniu formularza przez użytkownika do istniejącego formularza dodawany jest tekst o treści „Twój formularz został pomyślnie przesłany”. Czytnik ekranu wyświetla ten sam komunikat.
        </li>
        <li>
          Po nieudanym wypełnieniu formularza przez użytkownika, ponieważ niektóre dane mają nieprawidłowy format, do istniejącego formularza dodawany jest tekst o treści „5 błędów na stronie”. Czytnik ekranu wyświetla ten sam komunikat.
        </li>
        <li>
          Gdy użytkownik umieści zdjęcie w albumie w internetowej aplikacji fotograficznej, na <a href="https://material.io/design/components/snackbars.html#">pasku powiadomień </a> wyświetlany jest komunikat „Zapisane w albumie 'Ślub'”, który jest również odczytywany przez czytnik ekranu.
        </li>
      </ul>
    </section>
    <section class="example">
      <h3>Przykłady komunikatów o stanie, które nie dodają nowego tekstu do ekranu</h3>
      <p>
        To kryterium sukcesu zostało celowo sformułowane tak, aby miało zastosowanie przede wszystkim wtedy, gdy widoczny tekst jest dodawany do strony (lub staje się na niej widoczny). Powodem tego jest to, że tam, gdzie wyświetlany jest nowy tekst, ma on być widoczny dla wszystkich użytkowników. Zapewniając programowe środki zapewniające wyświetlanie tekstu również za pomocą technologii wspomagających, kryterium sukcesu zapewnia te same informacje użytkownikom, którzy nie widzą lub nie mogą ich zobaczyć. Jednak nie wszystkie zmiany treści obejmują dodanie tekstu do ekranu. Poniżej przedstawiono wszystkie kwestie związane z tym kryterium sukcesu:
      </p>
      <ul>
        <li>Niewyświetlany tekst specyficzny dla użytkowników technologii wspomagającej;</li>
        <li>Modyfikacja tekstu statusu;</li>
        <li>Usunięcie tekstu statusu; oraz</li>
        <li>Nietekstowa treść statusu, taka jak obrazy.</li>
      </ul>
      <section>
        <h4>Niewyświetlany tekst specyficzny dla użytkowników technologii wspomagającej</h4>
        <p>
          Mogą wystąpić przypadki, w których dodanie widocznego tekstu samo w sobie nie przekazuje wystarczających informacji użytkownikowi technologii wspomagającej. Na przykład bliskość nowej treści do innych informacji na ekranie może zapewnić wizualny kontekst, którego brakuje w samym tekście.
        </p>
        <p>
          W takich przypadkach twórcy mogą chcieć wyznaczyć dodatkową treść do włączenia do komunikatu o stanie, w tym niewyświetlany tekst, który może być dostarczony do technologii wspomagających w celu dodania kontekstu. Istotne kwestie dotyczące właściwego stosowania takich technik zostały omówione w sekcji Techniki wystarczające.
        </p>
      </section>
      <section>
        <h4>Modyfikacja tekstu statusu</h4>
        <p>
          Jeśli komunikat o stanie utrzymuje się na stronie, modyfikacje tego tekstu są zwykle równoważne z nowym komunikatem o stanie. Przykładem może być koszyk, który aktualizuje tekst z „0 pozycji” do „3 pozycji”. Typowe metody zapisywania takich zmian w treści strony powodują, że cały zmodyfikowany ciąg tekstowy jest uważany za nową zmianę, a zatem jest odczytywany przez technologie wspomagające. Jeśli jednak tylko liczba w tym ciągu została zakodowana jako zaktualizowany fragment treści, wynikowym doświadczeniem dla użytkowników czytników ekranu może być tylko usłyszenie „trzech”, co może nie być wystarczającą informacją, aby zapewnić kontekst dla użytkownika. W takich sytuacjach oznaczenie całego ciągu „3 pozycje” jako tekstu statusu byłoby zwykle lepszym rozwiązaniem. Zobacz Techniki wystarczające, aby uzyskać więcej informacji, w tym o użyciu <code>aria-atomic</code>. W takim przypadku uprzejmością byłoby również dodanie do wiadomości tekstu poza ekranem, takiego jak „w koszyku”.
        </p>
      </section>
      <section>
        <h4>Usunięcie tekstu statusu</h4>
        <p>
          W sytuacjach, w których tekst statusu jest całkowicie usuwany, jego brak może sam w sobie przekazywać informacje o statusie. Najbardziej oczywistym tego przykładem jest wyświetlenie komunikatu, że system jest „zajęty” lub „oczekuje”. Dla widzącego użytkownika, gdy ten tekst znika, jest to zwykle wskazanie, że stan jest teraz dostępny. Jednak niewidomi użytkownicy nie będą świadomi tej zmiany, chyba że koniec stanu oczekiwania spowoduje zmianę kontekstu dla użytkownika. Tam, gdzie aktualizacja widocznego komunikatu (np. do „system dostępny”) nie jest możliwa, użycie niewidocznego komunikatu o stanie, takiego jak „system dostępny”, zapewnia dostarczenie równoważnych informacji o stanie. Więcej informacji na ten temat można znaleźć w sekcji Techniki wystarczające.
        </p>
      </section>
      <section>
        <h4>Nietekstowa treść statusu</h4>
        <p>
          Zmiany treści nie ograniczają się do zmian tekstu. Tam, gdzie ikona lub dźwięk wskazuje komunikat o stanie, informacja ta zostanie wyświetlona przez czytnik ekranu poprzez połączenie dwóch rzeczy: 1) istniejące wymagania WCAG regulujące alternatywy tekstowe (w KS 1.1.1 Treści nietekstowe) oraz 2) wymóg tego kryterium sukcesu, aby zapewnić odpowiednią rolę.
        </p>
      </section>
    </section>
    <section class="example" id="excepted-examples">
      <h3>Przykłady zmian, które nie są komunikatami o stanie</h3>
      <p>
        Poniższe przykłady wskazują sytuacje, w których dodatkowe działania twórcy nie są konieczne. Wszystkie przypadki są wyłączone z tego kryterium sukcesu, ponieważ nie spełniają definicji „komunikatów o stanie”.
      </p>
      <ul>
        <li>
          <p>Twórca wyświetla komunikat o błędzie w oknie dialogowym.</p>
          <p>
            Ponieważ okno dialogowe przyjmuje fokus, jest zdefiniowane jako zmiana kontekstu i nie spełnia definicji komunikatu o stanie. W wyniku skupienia uwagi nowa zmiana kontekstu jest już ogłaszana przez czytnik ekranu, a zatem nie musi być uwzględniana w zakresie tego kryterium sukcesu.
          </p>
        </li>
        <li>
          <p>
            Treść jest wyświetlana lub ukrywana, gdy użytkownik wchodzi w interakcję z komponentem interfejsu użytkownika, na przykład rozwijając komponenty, takie jak menu, wybór, akordeon lub drzewo, lub wybierając inny element zakładki na liście zakładek.
          </p>
          <p>
            Żadna z wynikających z tego zmian treści nie spełnia definicji komunikatów o stanie. Ponadto wszystkie komponenty spełniające definicję komponentu interfejsu użytkownika mają już wymagania określone w punkcie <a href="nazwa-rola-wartosc" class="sc">4.1.2 Nazwa, rola, wartość</a>, w tym potrzebę udostępniania powiadomień o zmianach wartości i stanów programom użytkownika, w tym technologiom wspomagającym. W rezultacie zmiany stanu, takie jak „rozwinięcie” lub „zwinięcie”, byłyby ogłaszane przez czytnik ekranu, a tym samym użytkownik byłby powiadamiany o „dodaniu” lub „usunięciu” treści. W związku z tym takie treści nie muszą być uwzględniane w tym kryterium sukcesu.
          </p>
        </li>
        <li>
          <p>
            Po tym, jak użytkownik wypełni ankietę wskazującą, że jest niezadowolony, do strony dodawana jest seria nowych pytań dotyczących satysfakcji klienta.
          </p>
          <p>
            Nowe wejścia nie spełniają definicji komunikatu o stanie. Nie „dostarczają użytkownikowi informacji o powodzeniu lub wynikach działania, o stanie oczekiwania aplikacji, o postępie procesu lub o istnieniu błędów”, a zatem nie są wymagane do spełnienia tego kryterium sukcesu.
          </p>
          <div class="note">
            <p>
              Utworzenie komunikatu o statusie dodawanych pytań lub powiadomienie użytkownika z wyprzedzeniem, że zmiany treści mogą nastąpić na podstawie odpowiedzi użytkownika, to najlepsze praktyki, ale nie są one wymagane w tym scenariuszu.
            </p>
          </div>
        </li>
      </ul>
    </section>
    <section class="example">
      <h3>Inne zastosowania regionów lub alertów na żywo</h3>
      <p>
        Regiony na żywo i alerty mogą być z powodzeniem stosowane w wielu sytuacjach, w których następuje zmiana treści, która nie stanowi komunikatu o stanie, zgodnie z definicją w tym kryterium sukcesu. Istnieje jednak ryzyko, że aplikacja stanie się zbyt „gadatliwa” dla użytkownika czytnika ekranu. Aby zapewnić odpowiedni poziom informacji zwrotnej, należy przeprowadzić testy z użytkownikami. Techniki pomocnicze dostarczają przykładów, w jaki sposób alerty lub regiony na żywo mogą poprawić komfort użytkowania.
      </p>
      <div class="note">
        <p>
          Celem tego kryterium sukcesu nie jest zmuszanie twórców do generowania nowych komunikatów o stanie. Jego celem jest zapewnienie, że gdy komunikaty o stanie <em>są</em> wyświetlane, są one programowo identyfikowane w sposób umożliwiający technologiom wspomagającym prezentowanie ich użytkownikowi.
        </p>
      </div>
    </section>
  </section>
  <section id="techniques">
    <h2>Techniki</h2>
    <section id="sufficient">
      <h3>Techniki wystarczające</h3>
      <p>
        Wybierz poniżej sytuację, która pasuje do Twojej treści. Każda sytuacja obejmuje techniki lub kombinacje technik, które są znane i udokumentowane jako wystarczające w danej sytuacji.
      </p>
      <section class="situation" id="situation-a-if-a-status-message-advises-on-the-success-or-results-of-an-action-or-the-state-of-an-application">
        <h4>
          Sytuacja A: Jeżeli komunikat o stanie informuje o powodzeniu lub wynikach działania, lub o stanie aplikacji:
        </h4>
        <ul>
          <li>
            <a class="aria" href="https://www.w3.org/WAI/WCAG22/Techniques/aria/ARIA22">ARIA22: Użycie atrybutu role=status do prezentacji statusu komunikatu błędu</a> w połączeniu z jednym z poniższych:
            <ul>
              <li><a class="general" href="https://www.w3.org/WAI/WCAG22/Techniques/general/G199">G199: Zapewnienie komunikatu o powodzeniu po pomyślnym przesłaniu danych</a></li>
            </ul>
          </li>
        </ul>
      </section>
      <section class="situation" id="situation-b-if-a-status-message-conveys-a-suggestion-or-a-warning-on-the-existence-of-an-error">
        <h4>
          Sytuacja B: Jeżeli komunikat o stanie przekazuje sugestię lub ostrzeżenie o istnieniu błędu:
        </h4>
        <ul>
          <li>
            <a class="aria" href="https://www.w3.org/WAI/WCAG22/Techniques/aria/ARIA19">ARIA19: Użycie atrybutu role=alert lub role=live do identyfikacji błędów</a> w połączeniu z jednym z poniższych:
            <ul>
              <li><a class="general" href="https://www.w3.org/WAI/WCAG22/Techniques/general/G83">G83: Zapewnienie opisów tekstowych wskazujących wymagane pola, które nie zostały wypełnione.</a></li>
              <li><a class="general" href="https://www.w3.org/WAI/WCAG22/Techniques/general/G84">G84: Zapewnienie komunikatu tekstowego, gdy użytkownik podaje informacje, które nie znajdują się na liście dozwolonych wartości</a></li>
              <li><a class="general" href="https://www.w3.org/WAI/WCAG22/Techniques/general/G85">G85: Zapewnienie komunikatu tekstowego, gdy dane wprowadzane przez użytkownika nie mieszczą się w wymaganym formacie lub zakresie wartości.</a></li>
              <li><a class="general" href="https://www.w3.org/WAI/WCAG22/Techniques/general/G177">G177: Zapewnienie tekstu sugerującego korektę</a></li>
              <li><a class="general" href="https://www.w3.org/WAI/WCAG22/Techniques/general/G194">G194: Zapewnienie sprawdzania pisowni i sugestii dotyczących poprawnej pisowni</a></li>
            </ul>
          </li>
        </ul>
        <div class="note">
          <div role="heading" class="note-title marker" aria-level="5">Uwaga</div>
          <p>
            Nie wszystkie przykłady w poprzednich technikach ogólnych wykorzystują komunikaty o stanie do przekazywania ostrzeżeń lub błędów użytkownikom. Rola "alert" jest konieczna tylko wtedy, gdy zmiana kontekstu <em>nie</em> ma miejsca.
          </p>
        </div>
      </section>
      <section class="situation" id="situation-c-if-a-status-message-conveys-information-on-the-progress-of-a-process">
        <h4>Sytuacja C: Jeżeli komunikat o stanie przekazuje informacje o postępie procesu:</h4>
        <ul>
          <li><a class="aria" href="https://www.w3.org/WAI/WCAG22/Techniques/aria/ARIA23">ARIA23: ARIA23: Użycie atrybutu role=log do identyfikowania sekwencyjnych aktualizacji informacji</a></li>
          <li>
            Użycie atrybutu <code>role="progressbar"</code> (łącze w przyszłości)
          </li>
          <li><a class="aria" href="https://www.w3.org/WAI/WCAG22/Techniques/aria/ARIA22">ARIA22: Użycie atrybutu role=status do prezentacji statusu komunikatu błędu </a> w połączeniu z <a class="general" href="https://www.w3.org/WAI/WCAG22/Techniques/general/G193">G193: Udzielanie pomocy na stronie internetowej przez asystenta</a></li>
        </ul>
      </section>
    </section>
    <section id="advisory">
      <h3>Techniki pomocnicze</h3>
      <ul>
        <li>Użycie regionów aria-live z klientami czatu (łącze w przyszłości)</li>
        <li>
          Użycie regionów aria-live do obsługi <a href="https://www.w3.org/WAI/WCAG21/Understanding/content-on-hover-or-focus.html">1.4.13 Treść spod kursora lub fokusu</a> (łącze w przyszłości)
        </li>
        <li>
          Użycie <code>role="marquee"</code> (łącze w przyszłości)
        </li>
        <li>
          Użycie <code>role="timer"</code> (łącze w przyszłości)
        </li>
        <li>W stosownych przypadkach przeniesienie uwagi na nową treść za pomocą <a class="aria" href="https://www.w3.org/WAI/WCAG22/Techniques/aria/ARIA18">ARIA18: Użycie atrybutu aria-alertdialog do identyfikacji błędów</a></li>
        <li>Wspieranie personalizacji za pomocą <a class="script" href="https://www.w3.org/WAI/WCAG22/Techniques/client-side-script/SCR14">SCR14: Użycie skryptów do opcjonalnych nieistotnych alertów</a></li>
      </ul>
    </section>
    <section id="failure">
      <h3>Błędy</h3>
      <ul>
        <li><a class="failure" href="https://www.w3.org/WAI/WCAG22/Techniques/failures/F103">F103: Niespełnienie kryterium sukcesu 4.1.3 z powodu dostarczania komunikatów o stanie, których nie można określić programowo za pomocą roli lub właściwości.</a></li>
        <li>
          Użycie atrybutu <code>role="alert"</code> lub <code>aria-live="assertive"</code>  w przypadku treści, która nie jest ważna i ma znaczenie chwilowe. (łącze w przyszłości)
        </li>
      </ul>
    </section>
  </section>
</body>
</html>	
